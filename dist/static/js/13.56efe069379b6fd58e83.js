webpackJsonp([13],{MdeV:function(o,t,i){var n=i("ddT7");"string"==typeof n&&(n=[[o.i,n,""]]),n.locals&&(o.exports=n.locals);i("rjj0")("6d7d2694",n,!0,{})},QPEg:function(o,t,i){"use strict";function n(o){i("MdeV")}Object.defineProperty(t,"__esModule",{value:!0});var e=i("PJh5"),a=i.n(e),s=i("9/MJ"),A=i("Cz8s"),l={name:"bookStoreDetail",components:{myHeader:A.a},data:function(){return{bookId:this.$route.params.id,bookDetail:"",exame:!0,toMyBook:"/myBook/"+this.loginStatic.uid,buyBookVisible:!1}},props:["loginStatic","privateMessageData"],created:function(){this.getData()},mounted:function(){var o=this;setTimeout(function(){o.exameBuy()},50)},methods:{logOut:function(){this.$emit("logOut")},buyBook:function(o){var t=this,i={bookId:o,Uid:this.loginStatic.uid};s.a.post("/api/buyBook",i).then(function(o){t.exameBuy(),t.$message({message:"添加成功",type:"success",duration:1e3}),t.buyBookVisible=!1}).catch(function(o){console.log(o)})},toBookRead:function(o){console.log("去读书",o),this.$message({showClose:!0,message:"等待开放",duration:1e3})},getData:function(){var o=this,t={id:this.$route.params.id};s.a.post("/api/getBookDetail",t).then(function(t){t.data[0].createdAt=a()(t.data[0].createdAt).format("YYYY-MM"),o.bookDetail=t.data[0]}).catch(function(o){console.log(o)})},exameBuy:function(){var o=this,t={Uid:this.loginStatic.uid,bookId:this.$route.params.id};s.a.post("/api/exameBookDetail",t).then(function(t){1===t.data.length?o.exame=!1:0===t.data.length&&(o.exame=!0)}).catch(function(o){console.log(o)})}}},r=function(){var o=this,t=o.$createElement,i=o._self._c||t;return i("div",[i("div",{staticClass:"topBlock"},[i("myHeader",{attrs:{privateMessageData:o.privateMessageData,loginStatic:o.loginStatic},on:{logOut:o.logOut}})],1),o._v(" "),i("div",{staticClass:"book-detail-container"},[i("div",{staticClass:"book-info"},[i("div",{staticStyle:{padding:"20px",position:"relative"}},[i("img",{attrs:{src:o.bookDetail.pic,alt:""}}),o._v(" "),i("div",{staticClass:"book-info-title"},[o._v("\n                    "+o._s(o.bookDetail.name)+"\n                ")]),o._v(" "),i("div",{staticClass:"book-info-author"},[o._v("\n                    "+o._s(o.bookDetail.author)+" 著\n                ")]),o._v(" "),i("div",{staticClass:"book-info-price"},[o._v("\n                    ¥"+o._s(o.bookDetail.promotion)+"\n                ")]),o._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:o.exame,expression:"exame"}],staticClass:"book-info-buy",attrs:{disabled:!o.loginStatic.isLogin,type:"primary",size:"normal"},on:{click:function(t){o.buyBookVisible=!0}}},[o._v("\n                    立即购买\n                ")]),o._v(" "),i("el-dialog",{attrs:{title:"扫码购买（如不扫码，也可购买，看你素质）",visible:o.buyBookVisible,width:"30%"},on:{"update:visible":function(t){o.buyBookVisible=t}}},[i("span",[i("div",{staticClass:"buy_book_img"},[i("img",{attrs:{src:"/static/bookStore/pay.jpg",alt:""}})])]),o._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){o.buyBookVisible=!1}}},[o._v("取 消")]),o._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){o.buyBook(o.bookDetail.id)}}},[o._v("确认购买")])],1)]),o._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!o.exame,expression:"!exame"}],staticClass:"book-info-private",attrs:{disabled:!0,size:"normal"}},[o._v("\n                    已购买\n                ")]),o._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:!o.exame,expression:"!exame"}],staticClass:"book-info-buy",attrs:{type:"primary",size:"normal"},on:{click:function(t){o.toBookRead(o.bookDetail.id)}}},[o._v("\n                    阅读\n                ")])],1)]),o._v(" "),i("div",{staticClass:"book-aside"},[i("div",{staticStyle:{padding:"10px",cursor:"pointer"}},[i("router-link",{attrs:{to:"/bookStore"}},[i("i",{staticClass:"el-icon-caret-left mr10"}),o._v(" 返回书店")]),o._v(" "),i("router-link",{directives:[{name:"show",rawName:"v-show",value:o.loginStatic.isLogin,expression:"loginStatic.isLogin"}],attrs:{to:o.toMyBook}},[i("i",{staticClass:"el-icon-goods mr10"}),o._v(" 我购买的书")])],1)]),o._v(" "),i("div",{staticClass:"book-info-jianjie"},[i("div",{staticClass:"book-info-jianjie-title tit"},[o._v("\n                简介\n            ")]),o._v(" "),i("div",{staticStyle:{padding:"0 1rem"}},[i("p",{staticStyle:{"word-wrap":"break-word","line-height":"30px",padding:"20px 0"}},[o._v(o._s(o.bookDetail.description))]),o._v(" "),i("div",{staticClass:"ExtInfo"},[i("div",{staticClass:"ExtInfo-item"},[i("b",{staticClass:"tit"},[o._v("作者")]),o._v(o._s(o.bookDetail.author)+"\n                    ")]),o._v(" "),i("div",{staticClass:"ExtInfo-item"},[i("b",{staticClass:"tit"},[o._v("书名")]),o._v(o._s(o.bookDetail.name)+"\n                    ")]),o._v(" "),i("div",{staticClass:"ExtInfo-item"},[i("b",{staticClass:"tit"},[o._v("上架时间")]),o._v(o._s(o.bookDetail.createdAt)+"\n                    ")])])])]),o._v(" "),i("div",{staticStyle:{clear:"both"}})])])},b=[],d={render:r,staticRenderFns:b},p=d,c=i("VU/8"),C=n,f=c(l,p,!1,C,null,null);t.default=f.exports},ddT7:function(o,t,i){t=o.exports=i("FZ+f")(!0),t.push([o.i,".book-info,.book-info-jianjie{width:70%}.book-aside,.book-info,.book-info-jianjie{background:#fff;-webkit-box-shadow:0 1px 3px rgba(26,26,26,.1);box-shadow:0 1px 3px rgba(26,26,26,.1);float:left}.book-aside{margin-left:1%;width:29%}.book-aside a{display:block;border-bottom:1px solid rgba(0,0,0,.1);padding:10px 0}.book-detail-container{margin-top:10px;padding:0 15%}.book-info img{width:180px;border:1px solid #e6e6e6}.book-info-title{top:20px;width:337px;margin-top:4px;font-size:20px;font-weight:500;color:#404040}.book-info-author,.book-info-title{position:absolute;left:220px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.book-info-author{top:60px;color:#999;font-size:16px}.book-info-price{font-size:20px;color:#0084ff;position:absolute;left:220px;bottom:25px}.book-info-buy{position:absolute;bottom:25px;right:30px}.book-info-private{position:absolute;bottom:25px;right:150px}.book-info-jianjie{margin-top:1rem;padding-bottom:2rem}.book-info-jianjie-title{padding:1rem}.book-info-jianjie-title,.ExtInfo{border-bottom:1px solid rgba(0,0,0,.1)}.ExtInfo{border-top:1px solid rgba(0,0,0,.1)}.ExtInfo-item{padding:.8rem 0}.ExtInfo-item>b{margin-right:5rem;width:15rem;display:inline-block}.ExtInfo-item{color:#404040}.buy_book_img img{height:100%;width:100%}","",{version:3,sources:["D:/YuYan/src/views/bookStoreDetail.vue"],names:[],mappings:"AACA,8BAEI,SAAW,CACd,AACD,0CAGI,gBAAiB,AACjB,+CAAmD,AAC3C,uCAA2C,AACnD,UAAY,CACf,AACD,YACI,eAAgB,AAChB,SAAW,CACd,AACD,cACI,cAAe,AACf,uCAA2C,AAC3C,cAAgB,CACnB,AACD,uBACI,gBAAiB,AACjB,aAAe,CAClB,AACD,eACI,YAAa,AACb,wBAA0B,CAC7B,AACD,iBAGI,SAAU,AACV,YAAa,AACb,eAAgB,AAChB,eAAgB,AAChB,gBAAiB,AACjB,aAAe,CAIlB,AACD,mCAZI,kBAAmB,AACnB,WAAY,AAOZ,mBAAoB,AACpB,uBAAwB,AACxB,eAAiB,CAWpB,AATD,kBAGI,SAAU,AACV,WAAY,AACZ,cAAgB,CAInB,AACD,iBACI,eAAgB,AAChB,cAAe,AACf,kBAAmB,AACnB,WAAY,AACZ,WAAa,CAChB,AACD,eACI,kBAAmB,AACnB,YAAa,AACb,UAAY,CACf,AACD,mBACI,kBAAmB,AACnB,YAAa,AACb,WAAa,CAChB,AACD,mBACI,gBAAiB,AACjB,mBAAqB,CACxB,AACD,yBACI,YAAc,CAEjB,AACD,kCAFI,sCAA2C,CAK9C,AAHD,SACI,mCAAwC,CAE3C,AACD,cACI,eAAiB,CACpB,AACD,gBACI,kBAAmB,AACnB,YAAa,AACb,oBAAqB,CACxB,AACD,cACI,aAAe,CAClB,AACD,kBACI,YAAa,AACb,UAAY,CACf",file:"bookStoreDetail.vue",sourcesContent:["\n.book-info-jianjie,\n.book-info {\n    width: 70%;\n}\n.book-info-jianjie,\n.book-info,\n.book-aside {\n    background: #fff;\n    -webkit-box-shadow: 0 1px 3px rgba(26, 26, 26, .1);\n            box-shadow: 0 1px 3px rgba(26, 26, 26, .1);\n    float: left;\n}\n.book-aside {\n    margin-left: 1%;\n    width: 29%;\n}\n.book-aside a {\n    display: block;\n    border-bottom: 1px solid rgba(0, 0, 0, .1);\n    padding: 10px 0;\n}\n.book-detail-container {\n    margin-top: 10px;\n    padding: 0 15%;\n}\n.book-info img {\n    width: 180px;\n    border: solid 1px #e6e6e6;\n}\n.book-info-title {\n    position: absolute;\n    left: 220px;\n    top: 20px;\n    width: 337px;\n    margin-top: 4px;\n    font-size: 20px;\n    font-weight: 500;\n    color: #404040;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    overflow: hidden;\n}\n.book-info-author {\n    position: absolute;\n    left: 220px;\n    top: 60px;\n    color: #999;\n    font-size: 16px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n}\n.book-info-price {\n    font-size: 20px;\n    color: #0084ff;\n    position: absolute;\n    left: 220px;\n    bottom: 25px;\n}\n.book-info-buy {\n    position: absolute;\n    bottom: 25px;\n    right: 30px;\n}\n.book-info-private {\n    position: absolute;\n    bottom: 25px;\n    right: 150px;\n}\n.book-info-jianjie {\n    margin-top: 1rem;\n    padding-bottom: 2rem;\n}\n.book-info-jianjie-title {\n    padding: 1rem;\n    border-bottom: 1px solid rgba(0, 0, 0, .1);\n}\n.ExtInfo {\n    border-top: 1px solid rgba(0, 0, 0, .1);\n    border-bottom: 1px solid rgba(0, 0, 0, .1);\n}\n.ExtInfo-item {\n    padding: .8rem 0;\n}\n.ExtInfo-item>b {\n    margin-right: 5rem;\n    width: 15rem;\n    display: inline-block\n}\n.ExtInfo-item {\n    color: #404040;\n}\n.buy_book_img img {\n    height: 100%;\n    width: 100%;\n}\n"],sourceRoot:""}])}});
//# sourceMappingURL=13.56efe069379b6fd58e83.js.map